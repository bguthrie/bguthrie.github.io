{{ define "main" }}
<div class="max-w-7xl mx-auto px-4 py-8">
  <div class="grid grid-cols-1 lg:grid-cols-[240px_1fr] xl:grid-cols-[240px_1fr_240px] gap-8">

    {{/* Left sidebar - identity */}}
    {{ partial "sidebar.html" . }}

    {{/* Main content */}}
    <article class="min-w-0">
      <header class="mb-8">
        <h1 class="text-3xl md:text-4xl font-bold font-serif mb-4">
          {{ .Title }}
          {{ if .Params.hidden }}
            <span class="text-xs bg-gray-100 text-gray-500 px-2 py-1 rounded ml-2 font-sans font-normal align-middle">Unlisted</span>
          {{ end }}
        </h1>
        <div class="text-sm text-gray-500 font-sans">
          <time datetime="{{ .Date.Format "2006-01-02" }}">{{ .Date.Format "Jan 2, 2006" }}</time>
          {{ with .ReadingTime }}
            <span class="mx-2">&middot;</span>
            <span>{{ . }} min read</span>
          {{ end }}
        </div>
      </header>

      {{/* Article body */}}
      <div class="prose prose-lg max-w-none font-serif
                  prose-headings:font-sans prose-headings:font-bold
                  prose-a:text-blue-600 prose-a:no-underline hover:prose-a:underline
                  prose-blockquote:border-gray-300 prose-blockquote:text-gray-600
                  prose-code:before:content-none prose-code:after:content-none">
        {{ .Content }}
      </div>
    </article>

    {{/* Right sidebar - TOC */}}
    {{ partial "toc.html" . }}

  </div>
</div>
{{ end }}
